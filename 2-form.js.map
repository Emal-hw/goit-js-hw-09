{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\n\nloadLastInfo();\n\nform.addEventListener('submit', submitOnForm);\nform.addEventListener('input', saveUserInfo);\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nfunction submitOnForm(event) {\n  event.preventDefault();\n  const form = event.currentTarget;\n  const email = form.elements.email.value.trim();\n  const message = form.elements.message.value.trim();\n\n  if (email === '' || message === '') {\n    alert('Please, fill all fields');\n    return;\n  }\n\n  console.log(formData);\n\n  localStorage.removeItem(STORAGE_KEY);\n  formData = {\n    email: '',\n    message: '',\n  };\n\n  form.reset();\n}\n\nfunction saveUserInfo(event) {\n  formData.email = form.elements.email.value.trim();\n  formData.message = form.elements.message.value.trim();\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction loadLastInfo() {\n  const lastInfo = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  if (lastInfo === null) {\n    return;\n  }\n\n  form.elements.email.value = lastInfo.email || '';\n  form.elements.message.value = lastInfo.message || '';\n\n  formData = lastInfo;\n}\n"],"names":["STORAGE_KEY","form","loadLastInfo","submitOnForm","saveUserInfo","formData","event","email","message","lastInfo"],"mappings":"wFAAA,MAAMA,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EAEpDC,IAEAD,EAAK,iBAAiB,SAAUE,CAAY,EAC5CF,EAAK,iBAAiB,QAASG,CAAY,EAE3C,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,SAASF,EAAaG,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAML,EAAOK,EAAM,cACbC,EAAQN,EAAK,SAAS,MAAM,MAAM,OAClCO,EAAUP,EAAK,SAAS,QAAQ,MAAM,OAE5C,GAAIM,IAAU,IAAMC,IAAY,GAAI,CAClC,MAAM,yBAAyB,EAC/B,MACD,CAED,QAAQ,IAAIH,CAAQ,EAEpB,aAAa,WAAWL,CAAW,EACnCK,EAAW,CACT,MAAO,GACP,QAAS,EACb,EAEEJ,EAAK,MAAK,CACZ,CAEA,SAASG,EAAaE,EAAO,CAC3BD,EAAS,MAAQJ,EAAK,SAAS,MAAM,MAAM,OAC3CI,EAAS,QAAUJ,EAAK,SAAS,QAAQ,MAAM,OAE/C,aAAa,QAAQD,EAAa,KAAK,UAAUK,CAAQ,CAAC,CAC5D,CAEA,SAASH,GAAe,CACtB,MAAMO,EAAW,KAAK,MAAM,aAAa,QAAQT,CAAW,CAAC,EACzDS,IAAa,OAIjBR,EAAK,SAAS,MAAM,MAAQQ,EAAS,OAAS,GAC9CR,EAAK,SAAS,QAAQ,MAAQQ,EAAS,SAAW,GAElDJ,EAAWI,EACb"}